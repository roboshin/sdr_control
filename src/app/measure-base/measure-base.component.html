
<div class="select-wrapper">
<igx-stepper #stepper [linear]="true">

  <igx-step #step1 [isValid]="!!selectedCard" [completed]="!!selectedCard">
    <span igxStepTitle>基準点 P1</span>
    <div igxStepContent [tabIndex]="-1">
<!--      <h2 class="sample-step-title">基準点 P1 情報</h2>-->
      <div class="card-wrapper">
        <igx-card-content>
          <form class="info-row">
            <igx-input-group>
              <input igxInput name="基準値 X" id="master_x" type="number"/>
              <label igxLabel for="master_x">基準X</label>
              <igx-suffix>mm</igx-suffix>
            </igx-input-group>
            <igx-input-group>
              <input igxInput name="基準値 Y" id="master_y" type="number"/>
              <label igxLabel for="master_y">基準Y</label>
              <igx-suffix>mm</igx-suffix>
            </igx-input-group>
            <button #buttonStartMeasure igxButton="raised" igxRipple>基準値設定</button>

            <igx-input-group>
              <input igxInput name="計測値 X" id="measure_x" type="number"/>
              <label igxLabel for="measure_x">計測X</label>
              <igx-suffix>mm</igx-suffix>
            </igx-input-group>
            <igx-input-group>
              <input igxInput name="計測値 Y" id="measure_y" type="number"/>
              <label igxLabel for="measure_y">計測Y</label>
              <igx-suffix>mm</igx-suffix>
            </igx-input-group>
            <button #buttonStartMeasure igxButton="raised" igxRipple >基準位置計測</button>

            <igx-input-group>
              <input igxInput name="誤差 X" id="error_x" type="number"/>
              <label igxLabel for="error_x">誤差X</label>
              <igx-suffix>mm</igx-suffix>
            </igx-input-group>
            <igx-input-group>
              <input igxInput name="誤差 Y" id="error_y" type="number"/>
              <label igxLabel for="error_y">誤差Y</label>
              <igx-suffix>mm</igx-suffix>
            </igx-input-group>

          </form>
        </igx-card-content>
      </div>
    </div>
  </igx-step>

  <igx-step #step1 [isValid]="!!selectedCard" [completed]="!!selectedCard">
    <span igxStepTitle>基準点 P1</span>
    <div igxStepContent [tabIndex]="-1">
      <!--      <h2 class="sample-step-title">基準点 P1 情報</h2>-->
      <div class="card-wrapper">
        <igx-card-content>
          <form class="info-row">
            <igx-input-group>
              <input igxInput name="基準値 X" id="master_x" type="number"/>
              <label igxLabel for="master_x">X [mm]</label>
            </igx-input-group>
            <igx-input-group>
              <input igxInput name="基準値 Y" id="master_y" type="number"/>
              <label igxLabel for="master_y">Y [mm]</label>
            </igx-input-group>
            <button #buttonStartMeasure igxButton="raised" igxRipple>基準値設定</button>

            <igx-input-group>
              <input igxInput name="計測値 X" id="measure_x" type="number"/>
              <label igxLabel for="measure_x">X [mm]</label>
            </igx-input-group>
            <igx-input-group>
              <input igxInput name="計測値 Y" id="measure_y" type="number"/>
              <label igxLabel for="measure_y">Y [mm]</label>
            </igx-input-group>
            <button #buttonStartMeasure igxButton="raised" igxRipple >基準位置計測</button>

            <igx-input-group>
              <input igxInput name="誤差 X" id="error_x" type="number"/>
              <label igxLabel for="error_x">X [mm]</label>
            </igx-input-group>
            <igx-input-group>
              <input igxInput name="誤差 Y" id="error_y" type="number"/>
              <label igxLabel for="error_y">Y [mm]</label>
            </igx-input-group>

          </form>
        </igx-card-content>
      </div>
    </div>
  </igx-step>

  <igx-step #step1 [isValid]="!!selectedCard" [completed]="!!selectedCard">
    <span igxStepTitle>基準点 P1</span>
    <div igxStepContent [tabIndex]="-1">
      <!--      <h2 class="sample-step-title">基準点 P1 情報</h2>-->
      <div class="card-wrapper">
        <igx-card-content>
          <form class="info-row">
            <igx-input-group>
              <input igxInput name="基準値 X" id="master_x" type="number"/>
              <label igxLabel for="master_x">X [mm]</label>
            </igx-input-group>
            <igx-input-group>
              <input igxInput name="基準値 Y" id="master_y" type="number"/>
              <label igxLabel for="master_y">Y [mm]</label>
            </igx-input-group>
            <button #buttonStartMeasure igxButton="raised" igxRipple>基準値設定</button>

            <igx-input-group>
              <input igxInput name="計測値 X" id="measure_x" type="number"/>
              <label igxLabel for="measure_x">X [mm]</label>
            </igx-input-group>
            <igx-input-group>
              <input igxInput name="計測値 Y" id="measure_y" type="number"/>
              <label igxLabel for="measure_y">Y [mm]</label>
            </igx-input-group>
            <button #buttonStartMeasure igxButton="raised" igxRipple >基準位置計測</button>

            <igx-input-group>
              <input igxInput name="誤差 X" id="error_x" type="number"/>
              <label igxLabel for="error_x">X [mm]</label>
            </igx-input-group>
            <igx-input-group>
              <input igxInput name="誤差 Y" id="error_y" type="number"/>
              <label igxLabel for="error_y">Y [mm]</label>
            </igx-input-group>

          </form>
        </igx-card-content>
      </div>
    </div>
  </igx-step>

  <!--  <igx-step #step_total>-->
  <!--    <span igxStepTitle>各点誤差情報</span>-->
  <!--    <div igxStepContent [tabIndex]="-1">-->
  <!--      <h2 class="sample-step-title">誤差情報</h2>-->
  <!--      <div class="card-wrapper">-->
  <!--        <igx-card-content>-->
  <!--          <form class="info-row">-->
  <!--            <igx-input-group>-->
  <!--              <input igxInput name="基準値 X" id="master_x" type="number"/>-->
  <!--              <label igxLabel for="master_x">X [mm]</label>-->
  <!--            </igx-input-group>-->
  <!--            <igx-input-group>-->
  <!--              <input igxInput name="基準値 Y" id="master_y" type="number"/>-->
  <!--              <label igxLabel for="master_y">Y [mm]</label>-->
  <!--            </igx-input-group>-->
  <!--            <button #buttonStartMeasure igxButton="contained" igxRipple>基準値設定</button>-->

  <!--            <igx-input-group>-->
  <!--              <input igxInput name="計測値 X" id="measure_x" type="number"/>-->
  <!--              <label igxLabel for="measure_x">X [mm]</label>-->
  <!--            </igx-input-group>-->
  <!--            <igx-input-group>-->
  <!--              <input igxInput name="計測値 Y" id="measure_y" type="number"/>-->
  <!--              <label igxLabel for="measure_y">Y [mm]</label>-->
  <!--            </igx-input-group>-->
  <!--            <button #buttonStartMeasure igxButton="contained" igxRipple >基準位置計測</button>-->
  <!--          </form>-->
  <!--        </igx-card-content>-->
  <!--      </div>-->
  <!--    </div>-->

  <!--  </igx-step>-->

</igx-stepper>


<!--<ng-template let-series="series" let-item="item" #seatTooltip>-->
<!--  <div>-->
<!--    <span>{{item.class}}</span><br/>-->
<!--    <span>Seat: {{item.seat}}</span><br/>-->
<!--    <span>Price: ${{item.price}}</span><br/>-->
<!--    <span>Status: {{item.status}}, {{item.points[0][0].x}}, {{item.points[0][0].y}}</span>-->
<!--  </div>-->
<!--</ng-template>-->


<!--位置入力Dialog -->
<igx-dialog #form [closeOnOutsideSelect]="true" [hidden]="true" >
  <igx-dialog-title>
    <div class="title-container">
      <igx-icon>vpn_key</igx-icon>
      <div class="dialog-title">基準点の計測</div>
    </div>
  </igx-dialog-title>

  <form class="signInForm">

    <!-- P基準点選択Combo   -->
    <div class="combo-section">
      <igx-simple-combo class="input-container" #combo
                        [data]="BasePointList"
                        [displayKey]="'name'" [valueKey]="'name'"
                        [(ngModel)]="selectedPointName" name="name" (ngModelChange)="onComboChange($event)">
      </igx-simple-combo>
    </div>

    <!-- for debug   -->
    <div *ngIf="!!selectedPointName">
      <h6>Selected City's Id:</h6>
      <div>{{ selectedPointName }}</div>
    </div>

    <!-- X 値の表示用-->
    <igx-input-group>
      <label igxLabel for="xValue">X [mm]</label>
      <input igxInput id="xValue" [(ngModel)]="tmpX" name="xValue"/>
    </igx-input-group>

    <!-- X Offset入力用-->
    <igx-input-group>
      <label igxLabel for="xOffset">X Offset [mm]</label>
      <input igxInput id="xOffset" [(ngModel)]="tmpOffsetX" name="xOffset"/>
    </igx-input-group>

    <!-- Y 値の表示用-->
    <igx-input-group>
      <label igxLabel for="yValue">Y [mm]</label>
      <input igxInput id="yValue" [(ngModel)]="tmpY" name="yValue"/>
    </igx-input-group>

    <!-- Y Offset入力用-->
    <igx-input-group>
      <label igxLabel for="yOffset">Y Offset[mm]</label>
      <input igxInput id="yOffset" [(ngModel)]="tmpOffsetY" name="yOffset"/>
    </igx-input-group>

  </form>

  <div igxDialogActions>
    <button igxButton (click)="form.close()">CANCEL</button>
    <button igxButton (click)="onCalcMatrix()">変換計算</button>
    <button igxButton (click)="onMeasure()">計測</button> <!-- 計測開始ボタン -->
    <!-- <button igxButton (click)="onMMeasure()">計測</button> -->
  </div>

  <!--  ファイル読み込み完了Dialogの表示用-->
  <igx-dialog #alert
              [title]="dialogTitle"
              [message]="dialogMsg"
              leftButtonLabel="OK"
              (leftButtonSelect)="alert.close()">
  </igx-dialog>
</igx-dialog>

<!--変換結果表示用　Dialog -->
<igx-dialog #formResult [closeOnOutsideSelect]="true" [hidden]="true" (opened)="onResultFormOpen($event)">
  <igx-dialog-title>
    <div class="title-container">
      <igx-icon>vpn_key</igx-icon>
      <div class="dialog-title">変換係数</div>
    </div>
  </igx-dialog-title>

  <form class="signInForm">

    <!-- X 値の表示用-->
    <igx-input-group>
      <label igxLabel for="xResult">X [mm]</label>
      <input igxInput id="xResult" [(ngModel)]="xResult" name="xResult"/>
    </igx-input-group>

    <!-- Y 値の表示用-->
    <igx-input-group>
      <label igxLabel for="yResult">Y [mm]</label>
      <input igxInput id="yResult" [(ngModel)]="yResult" name="yResult"/>
    </igx-input-group>

    <!-- Z 値の表示用-->
<!--
    <igx-input-group>
      <label igxLabel for="zResult">X [mm]</label>
      <input igxInput id="zResult" [(ngModel)]="zResult" name="zResult"/>
    </igx-input-group>
-->

    <!-- RX 値の表示用-->
    <igx-input-group>
      <label igxLabel for="rxResult">Z [mm]</label>
      <input igxInput id="rxResult" [(ngModel)]="rxResult" name="rxResult"/>
    </igx-input-group>

    <!-- RY 値の表示用-->
<!--
    <igx-input-group>
      <label igxLabel for="ryResult">X [mm]</label>
      <input igxInput id="ryResult" [(ngModel)]="ryResult" name="ryResult"/>
    </igx-input-group>
-->

    <!-- RZ 値の表示用-->
    <igx-input-group>
      <label igxLabel for="rzResult">Theta [mm]</label>
      <input igxInput id="rzResult" [(ngModel)]="rzResult" name="rzResult"/>
    </igx-input-group>

 <!--
    <igx-input-group>
      <label igxLabel for="xOffsetResult">Y Offset[mm]</label>
      <input igxInput id="xOffsetResult" [(ngModel)]="xOffsetResult" name="xOffsetResult"/>
    </igx-input-group>

    <igx-input-group>
      <label igxLabel for="yOffsetResult">Y Offset[mm]</label>
      <input igxInput id="yOffsetResult" [(ngModel)]="yOffsetResult" name="yOffsetResult"/>
    </igx-input-group>
-->

    <!-- P1 Error Value-->
    <igx-input-group>
      <label igxLabel for="p1Error">P1 Error[mm]</label>
      <input igxInput id="p1Error" [(ngModel)]="p1Error" name="p1Error"/>
    </igx-input-group>

    <!-- P2 Error Value-->
    <igx-input-group>
      <label igxLabel for="p2Error">P2 Error[mm]</label>
      <input igxInput id="p2Error" [(ngModel)]="p2Error" name="p2Error"/>
    </igx-input-group>

    <!-- P3 Error Value-->
    <igx-input-group>
      <label igxLabel for="p3Error">P3 Error[mm]</label>
      <input igxInput id="p3Error" [(ngModel)]="p3Error" name="p3Error"/>
    </igx-input-group>

    <!-- P4 Error Value-->
    <igx-input-group>
      <label igxLabel for="p4Error">P4 Error[mm]</label>
      <input igxInput id="p4Error" [(ngModel)]="p4Error" name="p4Error"/>
    </igx-input-group>

  </form>

  <div igxDialogActions>
    <button igxButton (click)="form.close()">CANCEL</button>
    <button igxButton (click)="onMeasure()">計測</button> <!-- 計測開始ボタン -->
    <!-- <button igxButton (click)="onMMeasure()">計測</button> -->
  </div>

  <!--  ファイル読み込み完了Dialogの表示用-->
  <igx-dialog #alert
              [title]="dialogTitle"
              [message]="dialogMsg"
              leftButtonLabel="OK"
              (leftButtonSelect)="alert.close()">
  </igx-dialog>
</igx-dialog>

</div>
